import{ae as oe,af as ie,ag as re,d as B,ah as ue,Q as Y,ai as we,o as v,a as k,aj as P,ak as g,i as t,al as pe,am as de,an as Ve,l as V,ao as Ee,y as ce,a3 as xe,c as b,x as Ie,B as N,m as a,ap as te,g as E,w as n,h as $e,E as R,b as l,aq as Be,ar as ze,t as $,n as d,as as Ae,at as De,u as Te,e as Le,v as ve,_ as fe,k as L,j as Ne,s as Pe,a5 as Re,a6 as W,a7 as G,A as se,F as Q,H as X,au as Ue,p as le,M as ne,D as ae,av as Me,f as qe,a8 as je,q as Fe,V as He,L as Ke,aw as Oe,ax as We,N as Ge}from"./index--8fEwDZf.js";import{E as Qe}from"./el-drawer-jhwpdpvQ.js";/* empty css                        */import{_ as Xe}from"./CodeIcon-BxJpOO0V.js";import{u as Ye}from"./index-Bp5MSYK-.js";const Je=oe({space:{type:[Number,String],default:""},active:{type:Number,default:0},direction:{type:String,default:"horizontal",values:["horizontal","vertical"]},alignCenter:{type:Boolean},simple:{type:Boolean},finishStatus:{type:String,values:["wait","process","finish","error","success"],default:"finish"},processStatus:{type:String,values:["wait","process","finish","error","success"],default:"process"}}),Ze={[ie]:(C,_)=>[C,_].every(re)},he=B({name:"ElSteps"}),et=B({...he,props:Je,emits:Ze,setup(C,{emit:_}){const s=C,f=ue("steps"),{children:S,addChild:y,removeChild:i}=Ye(de(),"ElStep");return Y(S,()=>{S.value.forEach((r,m)=>{r.setIndex(m)})}),we("ElSteps",{props:s,steps:S,addStep:y,removeStep:i}),Y(()=>s.active,(r,m)=>{_(ie,r,m)}),(r,m)=>(v(),k("div",{class:g([t(f).b(),t(f).m(r.simple?"simple":r.direction)])},[P(r.$slots,"default")],2))}});var tt=pe(et,[["__file","steps.vue"]]);const st=oe({title:{type:String,default:""},icon:{type:Ve},description:{type:String,default:""},status:{type:String,values:["","wait","process","finish","error","success"],default:""}}),lt=B({name:"ElStep"}),nt=B({...lt,props:st,setup(C){const _=C,s=ue("step"),f=V(-1),S=V({}),y=V(""),i=Ee("ElSteps"),r=de();ce(()=>{Y([()=>i.props.active,()=>i.props.processStatus,()=>i.props.finishStatus],([o])=>{q(o)},{immediate:!0})}),xe(()=>{i.removeStep(j.uid)});const m=b(()=>_.status||y.value),H=b(()=>{const o=i.steps.value[f.value-1];return o?o.currentStatus:"wait"}),z=b(()=>i.props.alignCenter),U=b(()=>i.props.direction==="vertical"),x=b(()=>i.props.simple),A=b(()=>i.steps.value.length),M=b(()=>{var o;return((o=i.steps.value[A.value-1])==null?void 0:o.uid)===r?.uid}),I=b(()=>x.value?"":i.props.space),D=b(()=>[s.b(),s.is(x.value?"simple":i.props.direction),s.is("flex",M.value&&!I.value&&!z.value),s.is("center",z.value&&!U.value&&!x.value)]),w=b(()=>{const o={flexBasis:re(I.value)?`${I.value}px`:I.value?I.value:`${100/(A.value-(z.value?0:1))}%`};return U.value||M.value&&(o.maxWidth=`${100/A.value}%`),o}),K=o=>{f.value=o},O=o=>{const c=o==="wait",e={transitionDelay:`${c?"-":""}${150*f.value}ms`},u=o===i.props.processStatus||c?0:100;e.borderWidth=u&&!x.value?"1px":0,e[i.props.direction==="vertical"?"height":"width"]=`${u}%`,S.value=e},q=o=>{o>f.value?y.value=i.props.finishStatus:o===f.value&&H.value!=="error"?y.value=i.props.processStatus:y.value="wait";const c=i.steps.value[f.value-1];c&&c.calcProgress(y.value)},j=Ie({uid:r.uid,currentStatus:m,setIndex:K,calcProgress:O});return i.addStep(j),(o,c)=>(v(),k("div",{style:te(t(w)),class:g(t(D))},[N(" icon & line "),a("div",{class:g([t(s).e("head"),t(s).is(t(m))])},[t(x)?N("v-if",!0):(v(),k("div",{key:0,class:g(t(s).e("line"))},[a("i",{class:g(t(s).e("line-inner")),style:te(S.value)},null,6)],2)),a("div",{class:g([t(s).e("icon"),t(s).is(o.icon||o.$slots.icon?"icon":"text")])},[P(o.$slots,"icon",{},()=>[o.icon?(v(),E(t(R),{key:0,class:g(t(s).e("icon-inner"))},{default:n(()=>[(v(),E($e(o.icon)))]),_:1},8,["class"])):t(m)==="success"?(v(),E(t(R),{key:1,class:g([t(s).e("icon-inner"),t(s).is("status")])},{default:n(()=>[l(t(Be))]),_:1},8,["class"])):t(m)==="error"?(v(),E(t(R),{key:2,class:g([t(s).e("icon-inner"),t(s).is("status")])},{default:n(()=>[l(t(ze))]),_:1},8,["class"])):t(x)?N("v-if",!0):(v(),k("div",{key:3,class:g(t(s).e("icon-inner"))},$(f.value+1),3))])],2)],2),N(" title & description "),a("div",{class:g(t(s).e("main"))},[a("div",{class:g([t(s).e("title"),t(s).is(t(m))])},[P(o.$slots,"title",{},()=>[d($(o.title),1)])],2),t(x)?(v(),k("div",{key:0,class:g(t(s).e("arrow"))},null,2)):(v(),k("div",{key:1,class:g([t(s).e("description"),t(s).is(t(m))])},[P(o.$slots,"description",{},()=>[d($(o.description),1)])],2))],2)],6))}});var me=pe(nt,[["__file","item.vue"]]);const at=Ae(tt,{Step:me}),ot=De(me),it={class:"SS-item"},rt={class:"al-center"},ut=B({__name:"ScriptSettingItem",props:{label:{type:String,required:!0},alert:{type:String,default:""},width:{type:String,default:"220px"}},setup(C){Te(f=>({"72c0583c":t(_),"5c19ae3e":C.width}));const{appAsideBgColor:_}=Le(),s=C;return(f,S)=>{const y=R,i=ve;return v(),k("div",null,[a("div",it,[a("div",rt,[a("span",null,$(s.label),1),s.alert?(v(),E(i,{key:0,content:s.alert,placement:"right"},{default:n(()=>[l(y,null,{default:n(()=>S[0]||(S[0]=[a("span",{"i-mdi-help-circle-outline":""},null,-1)])),_:1})]),_:1},8,["content"])):N("",!0)]),P(f.$slots,"default",{class:"slot-item"},void 0,!0)])])}}}),pt=fe(ut,[["__scopeId","data-v-fe35c265"]]),dt="/fr-script/play/assets/sendTo-t1cMxVi9.png",ct="/fr-script/play/assets/exportApp-C4grmTP_.png",vt="/fr-script/play/assets/target-CcpY05ha.png",ft={class:"script-setting-div"},mt={class:"title-content"},gt={class:"title-end"},_t={class:"script-setting"},St={class:"guide"},yt=B({__name:"ScriptSetting",setup(C){const _=V(!1),s=V(1),f=()=>{s.value++>1&&(s.value=1)},S=()=>{s.value>1&&s.value--},y=()=>{X.replace({path:"/script/list"})},i=V(-1),r=b({get:()=>L().mockScriptList.value[i.value],set:c=>{L().mockScriptList.value[i.value]=c}}),{openId:m,contentTransform:H,asideBarPos:z}=qe(),U=Ne(),{scriptList:x,deviceList:A}=Pe(U),M=A.value.map(c=>({label:c,value:c}));ce(()=>{}),Re(()=>{if(m.value==="-1")return;const c=L().mockScriptList.value,e=c.find(u=>u.id===m.value);e?.setting||(e.setting={autoImportLastRunConfig:!1,targetAdbDevice:"",excludeDevice:[],targetApp:"",autoStartTargetApp:!1}),i.value=c.findIndex(u=>u.id===m.value)});const I=V(),D=V(!1),w=V(""),K=c=>{const u=L().mockScriptList.value[i.value].setting.excludeDevice;u.splice(u.indexOf(c),1)},O=()=>{D.value=!0,je(()=>{I.value.input.focus()})},q=c=>{const u=L().mockScriptList.value[i.value].setting;w.value&&(u.excludeDevice?u.excludeDevice.push(w.value):u.excludeDevice=[w.value]),w.value="",c||(D.value=!1)},j=()=>{H.value="translateX(-100%)",z.value="absolute",X.replace("/script/editor")},o=()=>{X.replace("/script/run")};return(c,e)=>{const u=Fe,ge=Xe,J=ve,Z=R,_e=Ue,h=He,T=pt,F=Ke,Se=Oe,ye=We,ee=ot,be=at,ke=Ge,Ce=Qe;return v(),k(Q,null,[a("div",ft,[l(_e,{onBack:y,class:"header",title:"脚本列表"},{content:n(()=>[a("div",mt,[e[9]||(e[9]=a("span",null,"设置",-1)),l(u,{type:"info",class:"ml-10",size:"small"},{default:n(()=>[d($(t(i)!==-1?t(r).name:"出现问题，请联系开发者"),1)]),_:1})])]),extra:n(()=>[a("div",gt,[l(J,{class:"box-item",effect:"dark",content:"编辑脚本",placement:"bottom"},{default:n(()=>[l(ge,{class:"icon",onClick:le(j,["stop"])})]),_:1}),l(J,{class:"box-item",effect:"dark",content:"运行脚本",placement:"bottom"},{default:n(()=>[l(Z,{class:"icon",onClick:le(o,["stop"])},{default:n(()=>e[10]||(e[10]=[a("span",{"i-mdi-play-circle-outline":""},null,-1)])),_:1})]),_:1})])]),_:1}),a("div",_t,[e[13]||(e[13]=a("h4",{class:"ml-0"},"初始化表单后(运行脚本前)",-1)),l(T,{label:"自动导入上次运行配置",alert:"开启后，在脚本初始化之后自动恢复上次运行脚本时各表单项的值或选项"},{default:n(()=>[l(h,{modelValue:t(r).setting.autoImportLastRunConfig,"onUpdate:modelValue":e[0]||(e[0]=p=>t(r).setting.autoImportLastRunConfig=p)},null,8,["modelValue"])]),_:1}),l(T,{label:"自动启动目标应用",alert:"开启后，在脚本初始化之后自动启动下方的【目标应用】（若有）"},{default:n(()=>[l(h,{modelValue:t(r).setting.autoStartTargetApp,"onUpdate:modelValue":e[1]||(e[1]=p=>t(r).setting.autoStartTargetApp=p)},null,8,["modelValue"])]),_:1}),W(l(T,{label:"目标应用",alert:"选项【自动启动目标应用】启动的目标,填写指导请点击输入框右边问号"},{default:n(()=>[l(t(ne),{modelValue:t(r).setting.targetApp,"onUpdate:modelValue":e[3]||(e[3]=p=>t(r).setting.targetApp=p),placeholder:"输入目标应用启动的目标"},{append:n(()=>[l(F,{size:"small",circle:"",class:"question-button"},{default:n(()=>[l(Z,{size:20,onClick:e[2]||(e[2]=p=>_.value=!0)},{default:n(()=>e[11]||(e[11]=[a("span",{"i-mdi-help-circle-outline":""},null,-1)])),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},512),[[G,t(r).setting.autoStartTargetApp]]),e[14]||(e[14]=a("h4",{class:"ml-0"},"运行脚本时",-1)),l(T,{label:"自动连接目标设备",alert:"选择后，运行脚本时，ADB将连接至该设备,并与其它设备断开连接"},{default:n(()=>[l(ye,{modelValue:t(r).setting.targetAdbDevice,"onUpdate:modelValue":e[4]||(e[4]=p=>t(r).setting.targetAdbDevice=p),class:"target-device",size:"small",filterable:"","allow-create":"","default-first-option":"",clearable:"","reserve-keyword":!1,placeholder:"选择或输入设备地址，如：127.0.0.1:21503"},{default:n(()=>[(v(!0),k(Q,null,ae(t(M),p=>(v(),E(Se,{key:p.value,label:p.label,value:p.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(T,{label:"主动断开的设备",alert:"当ADB无法发现该设备,添加该设备在目标设备连接之前自动断开连接"},{default:n(()=>[a("div",null,[(v(!0),k(Q,null,ae(t(r).setting.excludeDevice,p=>(v(),E(u,{key:p,class:"mr-10",closable:"",type:"info","disable-transitions":!1,onClose:bt=>K(p)},{default:n(()=>[d($(p),1)]),_:2},1032,["onClose"]))),128)),t(D)?(v(),E(t(ne),{key:0,ref_key:"InputRef",ref:I,modelValue:t(w),"onUpdate:modelValue":e[5]||(e[5]=p=>se(w)?w.value=p:null),class:"tag-input",size:"small",onKeyup:e[6]||(e[6]=Me(p=>q(!0),["enter"])),onBlur:e[7]||(e[7]=p=>q(!1))},null,8,["modelValue"])):(v(),E(F,{key:1,class:"button-new-tag",size:"small",onClick:O},{default:n(()=>e[12]||(e[12]=[d(" + 排除的设备 ")])),_:1}))])]),_:1})])]),l(Ce,{modelValue:t(_),"onUpdate:modelValue":e[8]||(e[8]=p=>se(_)?_.value=p:null),title:"获取目标应用指南",direction:"rtl",size:"70%"},{default:n(()=>[l(be,{active:t(s),"finish-status":"success"},{default:n(()=>[l(ee,{title:"1.导出快捷方式"}),l(ee,{title:"2.复制目标"})]),_:1},8,["active"]),l(ke,null,{default:n(()=>[l(F,{onClick:S},{default:n(()=>e[15]||(e[15]=[d("上一步")])),_:1}),l(F,{onClick:f},{default:n(()=>e[16]||(e[16]=[d("下一步")])),_:1})]),_:1}),a("div",St,[W(a("div",null,[e[21]||(e[21]=a("h3",null,"1.导出快捷方式",-1)),a("div",null,[e[18]||(e[18]=d(" 打开模拟器，长按图标，点击 ")),l(u,{size:"default",type:"info"},{default:n(()=>e[17]||(e[17]=[d("发送到")])),_:1})]),e[22]||(e[22]=a("img",{src:dt,alt:"",srcset:""},null,-1)),a("div",null,[e[20]||(e[20]=d(" 选择 ")),l(u,{size:"default",type:"info"},{default:n(()=>e[19]||(e[19]=[d("添加电脑桌面快捷方式")])),_:1})]),e[23]||(e[23]=a("img",{src:ct,alt:"",srcset:""},null,-1))],512),[[G,t(s)===1]]),W(a("div",null,[e[33]||(e[33]=a("h3",null,"2.复制目标",-1)),a("div",null,[e[27]||(e[27]=d(" 在桌面找到导出的快捷方式，右击 ")),l(u,{size:"default",type:"info"},{default:n(()=>e[24]||(e[24]=[d("属性")])),_:1}),e[28]||(e[28]=d("-")),l(u,{size:"default",type:"info"},{default:n(()=>e[25]||(e[25]=[d("快捷方式")])),_:1}),e[29]||(e[29]=d("-")),l(u,{size:"default",type:"info"},{default:n(()=>e[26]||(e[26]=[d("目标")])),_:1})]),a("div",null,[e[31]||(e[31]=d(" 全选")),l(u,{size:"default",type:"info"},{default:n(()=>e[30]||(e[30]=[d("目标")])),_:1}),e[32]||(e[32]=d("编辑框的内容，复制 "))]),e[34]||(e[34]=a("img",{src:vt,alt:"",srcset:""},null,-1)),e[35]||(e[35]=a("div",null,"复制完成后粘贴到本输入框即可完成设置",-1))],512),[[G,t(s)===2]])])]),_:1},8,["modelValue"])],64)}}}),xt=fe(yt,[["__scopeId","data-v-babdaeb0"]]);export{xt as default};
